CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(dali-demo C CXX)

SET(dali-demo_VERSION_MAJOR 1)
SET(dali-demo_VERSION_MINOR 0)

SET(ROOT_SRC_DIR ${CMAKE_SOURCE_DIR}/../..)

SET(PREFIX ${CMAKE_INSTALL_PREFIX})
SET(BINDIR "${PREFIX}/bin")
SET(APP_DATA_PREFIX ${PREFIX}/share/com.samsung.dali-demo)

SET(IMAGES_DIR ${APP_DATA_PREFIX}/images/)
SET(MODELS_DIR ${APP_DATA_PREFIX}/models/)
SET(SHADERS_DIR ${APP_DATA_PREFIX}/shaders/)
SET(SCRIPTS_DIR ${APP_DATA_PREFIX}/scripts/)

SET(DALI_IMAGE_DIR \\"${IMAGES_DIR}\\")
SET(DALI_MODEL_DIR \\"${MODELS_DIR}\\")
SET(DALI_SCRIPT_DIR \\"${SCRIPTS_DIR}\\")
SET(DALI_SHADER_DIR \\"${SHADERS_DIR}\\")
SET(DALI_EXAMPLE_BIN \\"${BINDIR}\\")

SET(PKG_LIST dali
             dali-toolkit)

INCLUDE(FindPkgConfig)
pkg_check_modules(REQUIRED_PKGS REQUIRED ${PKG_LIST})

FOREACH(flag ${REQUIRED_PKGS_CFLAGS})
        SET(REQUIRED_CFLAGS "${REQUIRED_CFLAGS} ${flag}")
ENDFOREACH(flag)

SET(DALI_DEMO_CFLAGS "-DDALI_IMAGE_DIR=${DALI_IMAGE_DIR} -DDALI_MODEL_DIR=${DALI_MODEL_DIR} -DDALI_SCRIPT_DIR=${DALI_SCRIPT_DIR} -DDALI_SHADER_DIR=${DALI_SHADER_DIR} -DDALI_EXAMPLE_BIN=${DALI_EXAMPLE_BIN}")

SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} ${REQUIRED_CFLAGS} ${DALI_DEMO_CFLAGS} -Werror -Wall")
SET(CMAKE_CXX_FLAGS "${CMAKE_C_FLAGS}")

INCLUDE_DIRECTORIES(${ROOT_SRC_DIR})
INCLUDE_DIRECTORIES(${DEMO_SRC_DIR})

ADD_SUBDIRECTORY(demo)
ADD_SUBDIRECTORY(examples)
